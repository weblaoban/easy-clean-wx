(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a781fd0e"],{"8e5c":function(e,t,s){"use strict";var a=s("b425"),r=s.n(a);r.a},b425:function(e,t,s){},dbd0:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.getingRequire,expression:"getingRequire"}],staticClass:"evaluate"},[s("el-form",{staticClass:"demo-ruleForm",attrs:{rules:e.rules}},[s("p",[e._v("1、完成评价以及买家秀")]),e.evaluateRequire.isDesignatedEvaluation?s("p",[e._v("指定评价："),s("span",{domProps:{textContent:e._s(e.evaluateRequire.evaluationContent)}})]):e._e(),e.evaluateRequire.isSlideShow?s("p",[e._v("2、评价截图上传（如果任务发布时选取了晒图要求）")]):e._e(),e.evaluateRequire.isSlideShow?s("el-form-item",{attrs:{prop:"screen",labelWidth:"0"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/attachment/upload","show-file-list":!1,data:{type:"COMMENT"},name:"file",accept:"image/png,image/gif,image/jpg,image/jpeg","on-success":e.handleAvatarSuccess}},[e.ruleForm.top?s("img",{staticClass:"avatar",attrs:{src:e.ruleForm.top}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),s("div",{staticClass:"button"},[s("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("完成")])],1)],1)],1)},r=[],n=(s("96cf"),s("3b8d")),i={name:"startTask",data:function(){return{getingRequire:!1,loading:!1,screen:"",rules:{},evaluateRequire:{}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.taskId,this.getingRequire=!0,e.next=4,this.$API.request(this.$API.selectComment,"POST",{taskId:t});case 4:s=e.sent,this.getingRequire=!1,s&&s.success&&(this.evaluateRequire=s.data);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{copyTextToClipboard:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy")&&this.$message.success("复制成功"),document.body.removeChild(t)},handleAvatarSuccess:function(e){this.ruleForm.screen=e.msg},goPrev:function(){this.$emit("submit",6)},submitForm:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,s,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.evaluateRequire.isSlideShow||this.screen){e.next=3;break}return this.$message.info("请上传截图"),e.abrupt("return");case 3:return t=this.$route.params.taskSubId,s=this.$route.params.orderId,this.loading=!0,e.next=8,this.$API.request(this.$API.comment,"POST",{orderId:s,taskSubId:t,screen:this.screen});case 8:a=e.sent,this.loading=!1,a&&a.success?(r=this,this.$message.success("评价成功"),setTimeout((function(){r.$router.push("/myTask")}),1e3)):this.$message.info(a.msg);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},u=i,o=(s("8e5c"),s("2877")),c=Object(o["a"])(u,a,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-a781fd0e.js.map