(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a781fd0e"],{"8e5c":function(e,t,a){"use strict";var s=a("b425"),r=a.n(s);r.a},b425:function(e,t,a){},dbd0:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.getingRequire,expression:"getingRequire"}],staticClass:"evaluate"},[a("el-form",{staticClass:"demo-ruleForm",attrs:{rules:e.rules}},[a("p",[e._v("1、完成评价以及买家秀")]),e.evaluateRequire.isDesignatedEvaluation?a("p",[e._v("指定评价："),a("span",{domProps:{textContent:e._s(e.evaluateRequire.evaluationContent)}})]):e._e(),e.evaluateRequire.isSlideShow?a("p",[e._v("2、评价截图上传（如果任务发布时选取了晒图要求）")]):e._e(),e.evaluateRequire.isSlideShow?a("el-form-item",{attrs:{prop:"screen",labelWidth:"0"}},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}],staticClass:"avatar-uploader",attrs:{"on-progress":e.handelAvatarProgress,"before-upload":e.validateSize,action:"/api/attachment/upload","show-file-list":!1,data:{type:"COMMENT"},name:"file",accept:"image/png,image/gif,image/jpg,image/jpeg","on-success":e.handleAvatarSuccess}},[e.ruleForm.top?a("img",{staticClass:"avatar",attrs:{src:e.ruleForm.top}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1):e._e(),a("div",{staticClass:"button"},[a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.submitForm}},[e._v("完成")])],1)],1)],1)},r=[],i=(a("96cf"),a("3b8d")),n={name:"startTask",data:function(){return{uploadLoading:!1,getingRequire:!1,loading:!1,screen:"",rules:{},evaluateRequire:{}}},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.params.taskId,this.getingRequire=!0,e.next=4,this.$API.request(this.$API.selectComment,"POST",{taskId:t});case 4:a=e.sent,this.getingRequire=!1,a&&a.success&&(this.evaluateRequire=a.data);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{copyTextToClipboard:function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy")&&this.$message.success("复制成功"),document.body.removeChild(t)},handleAvatarSuccess:function(e){this.uploadLoading=!1,this.ruleForm.screen=e.msg},goPrev:function(){this.$emit("submit",6)},validateSize:function(e){var t=e.size/1024/1024<2;return t||this.$message.error("上传头像图片大小不能超过 2MB!"),t},handelAvatarProgress:function(){this.uploadLoading=!0},submitForm:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.evaluateRequire.isSlideShow||this.screen){e.next=3;break}return this.$message.info("请上传截图"),e.abrupt("return");case 3:return t=this.$route.params.taskSubId,a=this.$route.params.orderId,this.loading=!0,e.next=8,this.$API.request(this.$API.comment,"POST",{orderId:a,taskSubId:t,screen:this.screen});case 8:s=e.sent,this.loading=!1,s&&s.success?(r=this,this.$message.success("评价成功"),setTimeout((function(){r.$router.push("/myTask")}),1e3)):this.$message.info(s.msg);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},o=n,u=(a("8e5c"),a("2877")),l=Object(u["a"])(o,s,r,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-a781fd0e.js.map